tools:
  geocube:
    title: Metacatalog GeoCube
    description: |
      This tool is designed to be used together with the V-FOR-WaTer Metacatalog data loader.
      It uses a number of data source files along with either a metacatalog entry or JSON dumps
      of the metadata.
      The data is aggregated to a target precision (temporal) and spatial resolution and then
      ingested into a geocube that is stored as a netCDF file.
    parameters:
      integration:
        type: enum
        values:
          - spatial
          - temporal
          - spatiotemporal
        description: |
          This is the aggregation to be used for ingesting the data into a common data cube.
          If spatial or temporal is used, the data is aggregated over the other dimension(s), and
          will only have the requested dimension left (ie. 'spatial' will not have a datetime-axis anymore).
          'spatiotemporal' will keep both dimensions. 
      precision:
        type: string
        description: |
          This is the temporal precision to be used for temporal or spatiotemporal aggreations. It is either
          an ISO8601 duration string or a shorthand frequency supported by pandas using m,d,H,M,Y prefixed by a 
          multiplier like 6H or 2Y.
      resolution:
        type: integer
        description: |
          This is the spatial resolution to be used for spatial or spatiotemporal aggregations. It is an integer
          that is used to resample the data to a grid with the given resolution. The resolution is applied to both
          axis of the data and is measured in the axis units. If the input data is generated by the V-FOR-WaTer
          data loader, the input data has been re-projected to EPSG:3857 and the resolution is then in meters.
      aggregates:
        type: enum
        array: true
        values:
          - mean
          - median
          - sum
          - min
          - max
          - std
        default: [mean, min, max, std, sum]
        description: |
          This is the aggregation to be used for the data. The data is aggregated over the given axis using the
          given aggregation function. The aggregation is applied to all data variables in the input data. That means
          if the input folder contains 5 variables and the default aggregations are used, the output data cube will
          contain 5 * 5 = 25 variables.
          Note that it is currently not possible to assign different aggregations to different variables, but that 
          is planned for the future.
      target_epsg:
        type: integer
        description: | 
          The target CRS EPSG number to use for the data cube. This is an optional parameter. If it is not given,
          the tool tries to guess the best UTM CRS based on the bounding box of the data.
        optional: true
